<!-- client-overview.component.html -->
<div class="client-overview">
  <mat-card class="toolbar-card under-dev-card">
    <div class="toolbar-grid">
      <mat-form-field appearance="outline" class="filter">
        <mat-icon matPrefix>search</mat-icon>

        <input matInput #filterInput placeholder="Filter products..." (keyup)="applyFilter($any($event.target).value)" />

        <button mat-icon-button matSuffix *ngIf="dataSource.filter" (click)="filterInput.value = ''; applyFilter('')" aria-label="clear">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>

      <div class="toolbar-actions">
        <button mat-stroked-button color="primary" (click)="dataSource.paginator!.firstPage()">
          <mat-icon>refresh</mat-icon>
          <span class="btn-text">Refresh</span>
        </button>
      </div>
    </div>
  </mat-card>

  <mat-card class="toolbar-card under-dev-card">
    <div class="table-wrap">
      <table mat-table [dataSource]="dataSource" matSort class="mat-table sticky-header">
        <!-- Product column -->
        <ng-container matColumnDef="product">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-product">Product</th>
          <td mat-cell *matCellDef="let row" class="col-product">
            {{ row.product }}
          </td>
          <td mat-footer-cell *matFooterCellDef class="col-product totals-label">Total</td>
        </ng-container>

        <!-- Awaiting Payment -->
        <ng-container matColumnDef="awaitingPayment">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num">Awaiting Payment</th>
          <td mat-cell *matCellDef="let row" class="col-num">{{ row.awaitingPayment | number }}</td>
          <td mat-footer-cell *matFooterCellDef class="col-num">{{ totals.awaitingPayment | number }}</td>
        </ng-container>

        <!-- Active -->
        <ng-container matColumnDef="active">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num">Active</th>
          <td mat-cell *matCellDef="let row" class="col-num">{{ row.active | number }}</td>
          <td mat-footer-cell *matFooterCellDef class="col-num">{{ totals.active | number }}</td>
        </ng-container>

        <!-- Completed -->
        <ng-container matColumnDef="completed">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num">Completed</th>
          <td mat-cell *matCellDef="let row" class="col-num">{{ row.completed | number }}</td>
          <td mat-footer-cell *matFooterCellDef class="col-num">{{ totals.completed | number }}</td>
        </ng-container>

        <!-- Suspended -->
        <ng-container matColumnDef="suspended">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num special">Suspended</th>
          <td mat-cell *matCellDef="let row" class="col-num special">{{ row.suspended | number }}</td>
          <td mat-footer-cell *matFooterCellDef class="col-num special">{{ totals.suspended | number }}</td>
        </ng-container>

        <!-- Terminated -->
        <ng-container matColumnDef="terminated">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num special">Terminated</th>
          <td mat-cell *matCellDef="let row" class="col-num special">{{ row.terminated | number }}</td>
          <td mat-footer-cell *matFooterCellDef class="col-num special">{{ totals.terminated | number }}</td>
        </ng-container>

        <!-- Cancelled -->
        <ng-container matColumnDef="cancelled">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num special">Cancelled</th>
          <td mat-cell *matCellDef="let row" class="col-num special">{{ row.cancelled | number }}</td>
          <td mat-footer-cell *matFooterCellDef class="col-num special">{{ totals.cancelled | number }}</td>
        </ng-container>

        <!-- Finalised -->
        <ng-container matColumnDef="finalised">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num special">Finalised</th>
          <td mat-cell *matCellDef="let row" class="col-num special">{{ row.finalised | number }}</td>
          <td mat-footer-cell *matFooterCellDef class="col-num special">{{ totals.finalised | number }}</td>
        </ng-container>

        <!-- Legal Action -->
        <ng-container matColumnDef="legalAction">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num special">Legal Action</th>
          <td mat-cell *matCellDef="let row" class="col-num special">{{ row.legalAction | number }}</td>
          <td mat-footer-cell *matFooterCellDef class="col-num special">{{ totals.legalAction | number }}</td>
        </ng-container>

        <!-- Contract Cancelled -->
        <ng-container matColumnDef="contractCancelled">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num special">Contract Cancelled</th>
          <td mat-cell *matCellDef="let row" class="col-num special">{{ row.contractCancelled | number }}</td>
          <td mat-footer-cell *matFooterCellDef class="col-num special">{{ totals.contractCancelled | number }}</td>
        </ng-container>

        <!-- Disputed -->
        <ng-container matColumnDef="disputed">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num special">Disputed</th>
          <td mat-cell *matCellDef="let row" class="col-num special">{{ row.disputed | number }}</td>
          <td mat-footer-cell *matFooterCellDef class="col-num special">{{ totals.disputed | number }}</td>
        </ng-container>

        <!-- Total -->
        <ng-container matColumnDef="total">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-num">Total</th>
          <td mat-cell *matCellDef="let row" class="col-num">
            <strong>{{ row.total | number }}</strong>
          </td>
          <td mat-footer-cell *matFooterCellDef class="col-num totals-value">
            <strong>{{ totals.total | number }}</strong>
          </td>
        </ng-container>

        <!-- rows -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: true" class="totals-row"></tr>
      </table>
    </div>

    <mat-card-actions class="paginator-row">
      <mat-paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </mat-card-actions>
  </mat-card>
</div>
